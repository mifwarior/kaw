function processCommand(r){}var test={bst:[],cid:8,kid:54,lid:6,lv:7,lx:251,ly:491,usr:{aln:{ag:"7;1;0;0"},cty:{g:!1,kid:22},phn:{ct:6,kid:22,pt:"2018-09-05T00:00:00Z",pts:1536105600,tid:101456,x:285,y:503}}},enemyTiles={lv:null,kid:54,usr:{aln:{aid:48324},phn:{kid:null}}},worldUpdate={e:"wld.upd",cs:null};function GetCoord(r){return{x:r.lx,y:r.ly}}function ValidateFunc(r,e){if(null===r&&void 0!==e)return!0;if(null!==r&&r===e)return!0;if("object"!=typeof e)return!1;for(var t in r)if(!e[t]||!ValidateFunc(r[t],e[t]))return!1;return!0}function Find(r,e){if(ValidateFunc(r,e))return GetCoord(e)}console.log(Find(enemyTiles,test)),console.log(Find(worldUpdate,test)),console.log(Find(enemyTiles,{}));var tokens={G:function(r){return function(e){return e>r}},GWQ:function(r){return function(e){return e>=r}},EQ:function(r){return function(e){return e===r}},L:function(r){return function(e){return e<r}},LEQ:function(r){return function(e){return e<=r}},Array:function r(){return function(e){return e instanceof r}}};window.coordList={},window.coordsCount=0,window.DumpLog=!1,window.enemyTiles={dt:-1,ft:null,kid:54,usr:{phn:{kid:16}}},window.PrintCoords=function(){var r=Object.keys(window.coordList);console.log(r)},window.ClearCoords=function(){window.coordList={},window.coordsCount=0};var intervalId=setInterval(function(){window.Module&&(clearInterval(intervalId),Inject())},100);function Inject(){if(window.Module&&!window.FileReader.injected){var r=window.FileReader,e={e:"wld.upd",cs:null};FileReader.injected?console.log("Already injected"):(i.injected=!0,window.FileReader=i,console.log("Injected success"))}function t(r,e){try{if(null===r&&void 0!==e)return!0;if(null!==r&&r===e)return!0;if((0|r)<0&&((0|e)<0||!e.length))return!0;if("object"!=typeof e)return!1;for(var n in r)if(!e[n]||!t(r[n],e[n]))return!1;return!0}catch(t){return console.error(t),console.log(r,e),!1}}function n(r,e){if(t(r,e))return function(r){return{x:r.lx,y:r.ly}}(e)}function i(){var i="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;var s=new r;return s.addEventListener("loadend",function(){var r=new Uint8Array(s.result);if(6===r[0]&&0!=(1&r[1]))try{for(var a=r.slice(12),o=function(r,e){for(var t=e;r[t];)++t;if(t-e>16&&r.subarray&&i)return i.decode(r.subarray(e,t));for(var n,s,a,o,h,f="";;){if(!(n=r[e++]))return f;if(128&n)if(s=63&r[e++],192!=(224&n))if(a=63&r[e++],224==(240&n)?n=(15&n)<<12|s<<6|a:(o=63&r[e++],240==(248&n)?n=(7&n)<<18|s<<12|a<<6|o:(h=63&r[e++],n=248==(252&n)?(3&n)<<24|s<<18|a<<12|o<<6|h:(1&n)<<30|s<<24|a<<18|o<<12|h<<6|63&r[e++])),n<65536)f+=String.fromCharCode(n);else{var u=n-65536;f+=String.fromCharCode(55296|u>>10,56320|1023&u)}else f+=String.fromCharCode((31&n)<<6|s);else f+=String.fromCharCode(n)}}(new Zlib.Inflate(a).decompress(),0),h=JSON.parse(o),f=0;h.length&&f<h.length;f++)if(t(e,h[f]))for(var u=h[f].cs,c=0;u.length&&c<u.length;c++){window.DumpLog&&console.log(u[c]);var l=n(enemyTiles,u[c]);if(l){var d=l.x+":"+l.y;window.coordList[d]||(window.coordList[d]=l,window.coordsCount++,console.log("Found coords: "+window.coordsCount,l))}}}catch(e){console.error(e),console.log(r)}}),s}}(function(){"use strict";function r(r){throw r}var e=void 0,t=!0,n=this;function i(r,t){var i,s=r.split("."),a=n;!(s[0]in a)&&a.execScript&&a.execScript("var "+s[0]);for(;s.length&&(i=s.shift());)s.length||t===e?a=a[i]?a[i]:a[i]={}:a[i]=t}var s="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView;function a(e,t){this.index="number"==typeof t?t:0,this.i=0,this.buffer=e instanceof(s?Uint8Array:Array)?e:new(s?Uint8Array:Array)(32768),2*this.buffer.length<=this.index&&r(Error("invalid index")),this.buffer.length<=this.index&&this.f()}a.prototype.f=function(){var r,e=this.buffer,t=e.length,n=new(s?Uint8Array:Array)(t<<1);if(s)n.set(e);else for(r=0;r<t;++r)n[r]=e[r];return this.buffer=n},a.prototype.d=function(r,e,t){var n,i=this.buffer,s=this.index,a=this.i,o=i[s];if(t&&1<e&&(r=8<e?(l[255&r]<<24|l[r>>>8&255]<<16|l[r>>>16&255]<<8|l[r>>>24&255])>>32-e:l[r]>>8-e),8>e+a)o=o<<e|r,a+=e;else for(n=0;n<e;++n)o=o<<1|r>>e-n-1&1,8==++a&&(a=0,i[s++]=l[o],o=0,s===i.length&&(i=this.f()));i[s]=o,this.buffer=i,this.i=a,this.index=s},a.prototype.finish=function(){var r,e=this.buffer,t=this.index;return 0<this.i&&(e[t]<<=8-this.i,e[t]=l[e[t]],t++),s?r=e.subarray(0,t):(e.length=t,r=e),r};var o,h=new(s?Uint8Array:Array)(256);for(o=0;256>o;++o){for(var f=c=o,u=7,c=c>>>1;c;c>>>=1)f<<=1,f|=1&c,--u;h[o]=(f<<u&255)>>>0}var l=h;function d(r){this.buffer=new(s?Uint16Array:Array)(2*r),this.length=0}function y(r){var e,t,n,i,a,o,h,f,u,c,l=r.length,d=0,y=Number.POSITIVE_INFINITY;for(f=0;f<l;++f)r[f]>d&&(d=r[f]),r[f]<y&&(y=r[f]);for(e=1<<d,t=new(s?Uint32Array:Array)(e),n=1,i=0,a=2;n<=d;){for(f=0;f<l;++f)if(r[f]===n){for(o=0,h=i,u=0;u<n;++u)o=o<<1|1&h,h>>=1;for(c=n<<16|f,u=o;u<e;u+=a)t[u]=c;++i}++n,i<<=1,a<<=1}return[t,d,y]}function b(r,e){this.h=g,this.w=0,this.input=s&&r instanceof Array?new Uint8Array(r):r,this.b=0,e&&(e.lazy&&(this.w=e.lazy),"number"==typeof e.compressionType&&(this.h=e.compressionType),e.outputBuffer&&(this.a=s&&e.outputBuffer instanceof Array?new Uint8Array(e.outputBuffer):e.outputBuffer),"number"==typeof e.outputIndex&&(this.b=e.outputIndex)),this.a||(this.a=new(s?Uint8Array:Array)(32768))}d.prototype.getParent=function(r){return 2*((r-2)/4|0)},d.prototype.push=function(r,e){var t,n,i,s=this.buffer;for(t=this.length,s[this.length++]=e,s[this.length++]=r;0<t&&(n=this.getParent(t),s[t]>s[n]);)i=s[t],s[t]=s[n],s[n]=i,i=s[t+1],s[t+1]=s[n+1],s[n+1]=i,t=n;return this.length},d.prototype.pop=function(){var r,e,t,n,i,s=this.buffer;for(e=s[0],r=s[1],this.length-=2,s[0]=s[this.length],s[1]=s[this.length+1],i=0;!((n=2*i+2)>=this.length)&&(n+2<this.length&&s[n+2]>s[n]&&(n+=2),s[n]>s[i]);)t=s[i],s[i]=s[n],s[n]=t,t=s[i+1],s[i+1]=s[n+1],s[n+1]=t,i=n;return{index:r,value:e,length:this.length}};var p,g=2,w={NONE:0,r:1,k:g,N:3},v=[];for(p=0;288>p;p++)switch(t){case 143>=p:v.push([p+48,8]);break;case 255>=p:v.push([p-144+400,9]);break;case 279>=p:v.push([p-256+0,7]);break;case 287>=p:v.push([p-280+192,8]);break;default:r("invalid literal: "+p)}function A(r,e){this.length=r,this.G=e}b.prototype.j=function(){var n,i,o,h,f=this.input;switch(this.h){case 0:for(o=0,h=f.length;o<h;){var u,c,l,d=i=s?f.subarray(o,o+65535):f.slice(o,o+65535),y=(o+=i.length)===h,b=e,p=e,w=this.a,A=this.b;if(s){for(w=new Uint8Array(this.a.buffer);w.length<=A+d.length+5;)w=new Uint8Array(w.length<<1);w.set(this.a)}if(u=y?1:0,w[A++]=0|u,l=65536+~(c=d.length)&65535,w[A++]=255&c,w[A++]=c>>>8&255,w[A++]=255&l,w[A++]=l>>>8&255,s)w.set(d,A),A+=d.length,w=w.subarray(0,A);else{for(b=0,p=d.length;b<p;++b)w[A++]=d[b];w.length=A}this.b=A,this.a=w}break;case 1:var k=new a(s?new Uint8Array(this.a.buffer):this.a,this.b);k.d(1,1,t),k.d(1,2,t);var U,E,I,T=m(this,f);for(U=0,E=T.length;U<E;U++)if(I=T[U],a.prototype.d.apply(k,v[I]),256<I)k.d(T[++U],T[++U],t),k.d(T[++U],5),k.d(T[++U],T[++U],t);else if(256===I)break;this.a=k.finish(),this.b=this.a.length;break;case g:var j,N,F,L,D,z,S,B,O,Z,G,M,P,V,R,q=new a(s?new Uint8Array(this.a.buffer):this.a,this.b),J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],K=Array(19);for(j=g,q.d(1,1,t),q.d(j,2,t),N=m(this,f),S=C(z=x(this.L,15)),O=C(B=x(this.K,7)),F=286;257<F&&0===z[F-1];F--);for(L=30;1<L&&0===B[L-1];L--);var Q,Y,H,W,X,_,$=F,rr=L,er=new(s?Uint32Array:Array)($+rr),tr=new(s?Uint32Array:Array)(316),nr=new(s?Uint8Array:Array)(19);for(Q=Y=0;Q<$;Q++)er[Y++]=z[Q];for(Q=0;Q<rr;Q++)er[Y++]=B[Q];if(!s)for(Q=0,W=nr.length;Q<W;++Q)nr[Q]=0;for(Q=X=0,W=er.length;Q<W;Q+=Y){for(Y=1;Q+Y<W&&er[Q+Y]===er[Q];++Y);if(H=Y,0===er[Q])if(3>H)for(;0<H--;)tr[X++]=0,nr[0]++;else for(;0<H;)(_=138>H?H:138)>H-3&&_<H&&(_=H-3),10>=_?(tr[X++]=17,tr[X++]=_-3,nr[17]++):(tr[X++]=18,tr[X++]=_-11,nr[18]++),H-=_;else if(tr[X++]=er[Q],nr[er[Q]]++,3>--H)for(;0<H--;)tr[X++]=er[Q],nr[er[Q]]++;else for(;0<H;)(_=6>H?H:6)>H-3&&_<H&&(_=H-3),tr[X++]=16,tr[X++]=_-3,nr[16]++,H-=_}for(n=s?tr.subarray(0,X):tr.slice(0,X),Z=x(nr,7),V=0;19>V;V++)K[V]=Z[J[V]];for(D=19;4<D&&0===K[D-1];D--);for(G=C(Z),q.d(F-257,5,t),q.d(L-1,5,t),q.d(D-4,4,t),V=0;V<D;V++)q.d(K[V],3,t);for(V=0,R=n.length;V<R;V++)if(M=n[V],q.d(G[M],Z[M],t),16<=M){switch(V++,M){case 16:P=2;break;case 17:P=3;break;case 18:P=7;break;default:r("invalid code: "+M)}q.d(n[V],P,t)}var ir,sr,ar,or,hr,fr,ur,cr,lr=[S,z],dr=[O,B];for(hr=lr[0],fr=lr[1],ur=dr[0],cr=dr[1],ir=0,sr=N.length;ir<sr;++ir)if(ar=N[ir],q.d(hr[ar],fr[ar],t),256<ar)q.d(N[++ir],N[++ir],t),or=N[++ir],q.d(ur[or],cr[or],t),q.d(N[++ir],N[++ir],t);else if(256===ar)break;this.a=q.finish(),this.b=this.a.length;break;default:r("invalid compression type")}return this.a};var k=function(){function e(e){switch(t){case 3===e:return[257,e-3,0];case 4===e:return[258,e-4,0];case 5===e:return[259,e-5,0];case 6===e:return[260,e-6,0];case 7===e:return[261,e-7,0];case 8===e:return[262,e-8,0];case 9===e:return[263,e-9,0];case 10===e:return[264,e-10,0];case 12>=e:return[265,e-11,1];case 14>=e:return[266,e-13,1];case 16>=e:return[267,e-15,1];case 18>=e:return[268,e-17,1];case 22>=e:return[269,e-19,2];case 26>=e:return[270,e-23,2];case 30>=e:return[271,e-27,2];case 34>=e:return[272,e-31,2];case 42>=e:return[273,e-35,3];case 50>=e:return[274,e-43,3];case 58>=e:return[275,e-51,3];case 66>=e:return[276,e-59,3];case 82>=e:return[277,e-67,4];case 98>=e:return[278,e-83,4];case 114>=e:return[279,e-99,4];case 130>=e:return[280,e-115,4];case 162>=e:return[281,e-131,5];case 194>=e:return[282,e-163,5];case 226>=e:return[283,e-195,5];case 257>=e:return[284,e-227,5];case 258===e:return[285,e-258,0];default:r("invalid length: "+e)}}var n,i,s=[];for(n=3;258>=n;n++)i=e(n),s[n]=i[2]<<24|i[1]<<16|i[0];return s}(),U=s?new Uint32Array(k):k;function m(n,i){function a(e,n){var i,s,a,o,h=e.G,f=[],u=0;switch(i=U[e.length],f[u++]=65535&i,f[u++]=i>>16&255,f[u++]=i>>24,t){case 1===h:s=[0,h-1,0];break;case 2===h:s=[1,h-2,0];break;case 3===h:s=[2,h-3,0];break;case 4===h:s=[3,h-4,0];break;case 6>=h:s=[4,h-5,1];break;case 8>=h:s=[5,h-7,1];break;case 12>=h:s=[6,h-9,2];break;case 16>=h:s=[7,h-13,2];break;case 24>=h:s=[8,h-17,3];break;case 32>=h:s=[9,h-25,3];break;case 48>=h:s=[10,h-33,4];break;case 64>=h:s=[11,h-49,4];break;case 96>=h:s=[12,h-65,5];break;case 128>=h:s=[13,h-97,5];break;case 192>=h:s=[14,h-129,6];break;case 256>=h:s=[15,h-193,6];break;case 384>=h:s=[16,h-257,7];break;case 512>=h:s=[17,h-385,7];break;case 768>=h:s=[18,h-513,8];break;case 1024>=h:s=[19,h-769,8];break;case 1536>=h:s=[20,h-1025,9];break;case 2048>=h:s=[21,h-1537,9];break;case 3072>=h:s=[22,h-2049,10];break;case 4096>=h:s=[23,h-3073,10];break;case 6144>=h:s=[24,h-4097,11];break;case 8192>=h:s=[25,h-6145,11];break;case 12288>=h:s=[26,h-8193,12];break;case 16384>=h:s=[27,h-12289,12];break;case 24576>=h:s=[28,h-16385,13];break;case 32768>=h:s=[29,h-24577,13];break;default:r("invalid distance")}for(i=s,f[u++]=i[0],f[u++]=i[1],f[u++]=i[2],a=0,o=f.length;a<o;++a)g[w++]=f[a];A[f[0]]++,k[f[3]]++,v=e.length+n-1,y=null}var o,h,f,u,c,l,d,y,b,p={},g=s?new Uint16Array(2*i.length):[],w=0,v=0,A=new(s?Uint32Array:Array)(286),k=new(s?Uint32Array:Array)(30),m=n.w;if(!s){for(f=0;285>=f;)A[f++]=0;for(f=0;29>=f;)k[f++]=0}for(A[256]=1,o=0,h=i.length;o<h;++o){for(f=c=0,u=3;f<u&&o+f!==h;++f)c=c<<8|i[o+f];if(p[c]===e&&(p[c]=[]),l=p[c],!(0<v--)){for(;0<l.length&&32768<o-l[0];)l.shift();if(o+3>=h){for(y&&a(y,-1),f=0,u=h-o;f<u;++f)b=i[o+f],g[w++]=b,++A[b];break}0<l.length?(d=E(i,o,l),y?y.length<d.length?(b=i[o-1],g[w++]=b,++A[b],a(d,0)):a(y,-1):d.length<m?y=d:a(d,0)):y?a(y,-1):(b=i[o],g[w++]=b,++A[b])}l.push(o)}return g[w++]=256,A[256]++,n.L=A,n.K=k,s?g.subarray(0,w):g}function E(r,e,t){var n,i,s,a,o,h,f=0,u=r.length;a=0,h=t.length;r:for(;a<h;a++){if(n=t[h-a-1],s=3,3<f){for(o=f;3<o;o--)if(r[n+o-1]!==r[e+o-1])continue r;s=f}for(;258>s&&e+s<u&&r[n+s]===r[e+s];)++s;if(s>f&&(i=n,f=s),258===s)break}return new A(f,e-i)}function x(r,e){var t,n,i,a,o,h=r.length,f=new d(572),u=new(s?Uint8Array:Array)(h);if(!s)for(a=0;a<h;a++)u[a]=0;for(a=0;a<h;++a)0<r[a]&&f.push(a,r[a]);if(t=Array(f.length/2),n=new(s?Uint32Array:Array)(f.length/2),1===t.length)return u[f.pop().index]=1,u;for(a=0,o=f.length/2;a<o;++a)t[a]=f.pop(),n[a]=t[a].value;for(i=function(r,e,t){function n(r){var t=y[r][b[r]];t===e?(n(r+1),n(r+1)):--l[t],++b[r]}var i,a,o,h,f,u=new(s?Uint16Array:Array)(t),c=new(s?Uint8Array:Array)(t),l=new(s?Uint8Array:Array)(e),d=Array(t),y=Array(t),b=Array(t),p=(1<<t)-e,g=1<<t-1;for(u[t-1]=e,a=0;a<t;++a)p<g?c[a]=0:(c[a]=1,p-=g),p<<=1,u[t-2-a]=(u[t-1-a]/2|0)+e;for(u[0]=c[0],d[0]=Array(u[0]),y[0]=Array(u[0]),a=1;a<t;++a)u[a]>2*u[a-1]+c[a]&&(u[a]=2*u[a-1]+c[a]),d[a]=Array(u[a]),y[a]=Array(u[a]);for(i=0;i<e;++i)l[i]=t;for(o=0;o<u[t-1];++o)d[t-1][o]=r[o],y[t-1][o]=o;for(i=0;i<t;++i)b[i]=0;for(1===c[t-1]&&(--l[0],++b[t-1]),a=t-2;0<=a;--a){for(h=i=0,f=b[a+1],o=0;o<u[a];o++)(h=d[a+1][f]+d[a+1][f+1])>r[i]?(d[a][o]=h,y[a][o]=e,f+=2):(d[a][o]=r[i],y[a][o]=i,++i);b[a]=0,1===c[a]&&n(a)}return l}(n,n.length,e),a=0,o=t.length;a<o;++a)u[t[a].index]=i[a];return u}function C(r){var e,t,n,i,a=new(s?Uint16Array:Array)(r.length),o=[],h=[],f=0;for(e=0,t=r.length;e<t;e++)o[r[e]]=1+(0|o[r[e]]);for(e=1,t=16;e<=t;e++)h[e]=f,f+=0|o[e],f<<=1;for(e=0,t=r.length;e<t;e++)for(f=h[r[e]],h[r[e]]+=1,n=a[e]=0,i=r[e];n<i;n++)a[e]=a[e]<<1|1&f,f>>>=1;return a}function I(e,t){switch(this.l=[],this.m=32768,this.e=this.g=this.c=this.q=0,this.input=s?new Uint8Array(e):e,this.s=!1,this.n=j,this.B=!1,!t&&(t={})||(t.index&&(this.c=t.index),t.bufferSize&&(this.m=t.bufferSize),t.bufferType&&(this.n=t.bufferType),t.resize&&(this.B=t.resize)),this.n){case T:this.b=32768,this.a=new(s?Uint8Array:Array)(32768+this.m+258);break;case j:this.b=0,this.a=new(s?Uint8Array:Array)(this.m),this.f=this.J,this.t=this.H,this.o=this.I;break;default:r(Error("invalid inflate mode"))}}var T=0,j=1,N={D:T,C:j};I.prototype.p=function(){for(;!this.s;){var n=H(this,3);switch(1&n&&(this.s=t),n>>>=1){case 0:var i=this.input,a=this.c,o=this.a,h=this.b,f=i.length,u=e,c=o.length,l=e;switch(this.e=this.g=0,a+1>=f&&r(Error("invalid uncompressed block header: LEN")),u=i[a++]|i[a++]<<8,a+1>=f&&r(Error("invalid uncompressed block header: NLEN")),u===~(i[a++]|i[a++]<<8)&&r(Error("invalid uncompressed block header: length verify")),a+u>i.length&&r(Error("input buffer is broken")),this.n){case T:for(;h+u>o.length;){if(u-=l=c-h,s)o.set(i.subarray(a,a+l),h),h+=l,a+=l;else for(;l--;)o[h++]=i[a++];this.b=h,o=this.f(),h=this.b}break;case j:for(;h+u>o.length;)o=this.f({v:2});break;default:r(Error("invalid inflate mode"))}if(s)o.set(i.subarray(a,a+u),h),h+=u,a+=u;else for(;u--;)o[h++]=i[a++];this.c=a,this.b=h,this.a=o;break;case 1:this.o(K,Y);break;case 2:var d,b,p,g,w=H(this,5)+257,v=H(this,5)+1,A=H(this,4)+4,k=new(s?Uint8Array:Array)(z.length),U=e,m=e,E=e,x=e,C=e;for(C=0;C<A;++C)k[z[C]]=H(this,3);if(!s)for(C=A,A=k.length;C<A;++C)k[z[C]]=0;for(d=y(k),U=new(s?Uint8Array:Array)(w+v),C=0,g=w+v;C<g;)switch(m=W(this,d),m){case 16:for(x=3+H(this,2);x--;)U[C++]=E;break;case 17:for(x=3+H(this,3);x--;)U[C++]=0;E=0;break;case 18:for(x=11+H(this,7);x--;)U[C++]=0;E=0;break;default:E=U[C++]=m}b=y(s?U.subarray(0,w):U.slice(0,w)),p=y(s?U.subarray(w):U.slice(w)),this.o(b,p);break;default:r(Error("unknown BTYPE: "+n))}}return this.t()};var F,L,D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=s?new Uint16Array(D):D,S=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],B=s?new Uint16Array(S):S,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],Z=s?new Uint8Array(O):O,G=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],M=s?new Uint16Array(G):G,P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=s?new Uint8Array(P):P,R=new(s?Uint8Array:Array)(288);for(F=0,L=R.length;F<L;++F)R[F]=143>=F?8:255>=F?9:279>=F?7:8;var q,J,K=y(R),Q=new(s?Uint8Array:Array)(30);for(q=0,J=Q.length;q<J;++q)Q[q]=5;var Y=y(Q);function H(e,t){for(var n,i=e.g,s=e.e,a=e.input,o=e.c,h=a.length;s<t;)o>=h&&r(Error("input buffer is broken")),i|=a[o++]<<s,s+=8;return n=i&(1<<t)-1,e.g=i>>>t,e.e=s-t,e.c=o,n}function W(e,t){for(var n,i,s=e.g,a=e.e,o=e.input,h=e.c,f=o.length,u=t[0],c=t[1];a<c&&!(h>=f);)s|=o[h++]<<a,a+=8;return(i=(n=u[s&(1<<c)-1])>>>16)>a&&r(Error("invalid code length: "+i)),e.g=s>>i,e.e=a-i,e.c=h,65535&n}function X(r){if("string"==typeof r){var e,t,n=r.split("");for(e=0,t=n.length;e<t;e++)n[e]=(255&n[e].charCodeAt(0))>>>0;r=n}for(var i,s=1,a=0,o=r.length,h=0;0<o;){o-=i=1024<o?1024:o;do{a+=s+=r[h++]}while(--i);s%=65521,a%=65521}return(a<<16|s)>>>0}function _(e,t){var n,i;switch(this.input=e,this.c=0,!t&&(t={})||(t.index&&(this.c=t.index),t.verify&&(this.M=t.verify)),n=e[this.c++],i=e[this.c++],15&n){case $:this.method=$;break;default:r(Error("unsupported compression method"))}0!=((n<<8)+i)%31&&r(Error("invalid fcheck flag:"+((n<<8)+i)%31)),32&i&&r(Error("fdict flag is not supported")),this.A=new I(e,{index:this.c,bufferSize:t.bufferSize,bufferType:t.bufferType,resize:t.resize})}I.prototype.o=function(r,e){var t=this.a,n=this.b;this.u=r;for(var i,s,a,o,h=t.length-258;256!==(i=W(this,r));)if(256>i)n>=h&&(this.b=n,t=this.f(),n=this.b),t[n++]=i;else for(o=B[s=i-257],0<Z[s]&&(o+=H(this,Z[s])),i=W(this,e),a=M[i],0<V[i]&&(a+=H(this,V[i])),n>=h&&(this.b=n,t=this.f(),n=this.b);o--;)t[n]=t[n++-a];for(;8<=this.e;)this.e-=8,this.c--;this.b=n},I.prototype.I=function(r,e){var t=this.a,n=this.b;this.u=r;for(var i,s,a,o,h=t.length;256!==(i=W(this,r));)if(256>i)n>=h&&(h=(t=this.f()).length),t[n++]=i;else for(o=B[s=i-257],0<Z[s]&&(o+=H(this,Z[s])),i=W(this,e),a=M[i],0<V[i]&&(a+=H(this,V[i])),n+o>h&&(h=(t=this.f()).length);o--;)t[n]=t[n++-a];for(;8<=this.e;)this.e-=8,this.c--;this.b=n},I.prototype.f=function(){var r,e,t=new(s?Uint8Array:Array)(this.b-32768),n=this.b-32768,i=this.a;if(s)t.set(i.subarray(32768,t.length));else for(r=0,e=t.length;r<e;++r)t[r]=i[r+32768];if(this.l.push(t),this.q+=t.length,s)i.set(i.subarray(n,n+32768));else for(r=0;32768>r;++r)i[r]=i[n+r];return this.b=32768,i},I.prototype.J=function(r){var e,t,n,i=this.input.length/this.c+1|0,a=this.input,o=this.a;return r&&("number"==typeof r.v&&(i=r.v),"number"==typeof r.F&&(i+=r.F)),2>i?t=(n=(a.length-this.c)/this.u[2]/2*258|0)<o.length?o.length+n:o.length<<1:t=o.length*i,s?(e=new Uint8Array(t)).set(o):e=o,this.a=e},I.prototype.t=function(){var r,e,t,n,i,a=0,o=this.a,h=this.l,f=new(s?Uint8Array:Array)(this.q+(this.b-32768));if(0===h.length)return s?this.a.subarray(32768,this.b):this.a.slice(32768,this.b);for(e=0,t=h.length;e<t;++e)for(n=0,i=(r=h[e]).length;n<i;++n)f[a++]=r[n];for(e=32768,t=this.b;e<t;++e)f[a++]=o[e];return this.l=[],this.buffer=f},I.prototype.H=function(){var r,e=this.b;return s?this.B?(r=new Uint8Array(e)).set(this.a.subarray(0,e)):r=this.a.subarray(0,e):(this.a.length>e&&(this.a.length=e),r=this.a),this.buffer=r},_.prototype.p=function(){var e,t=this.input;return e=this.A.p(),this.c=this.A.c,this.M&&((t[this.c++]<<24|t[this.c++]<<16|t[this.c++]<<8|t[this.c++])>>>0!==X(e)&&r(Error("invalid adler-32 checksum"))),e};var $=8;function rr(r,e){this.input=r,this.a=new(s?Uint8Array:Array)(32768),this.h=er.k;var t,n={};for(t in!e&&(e={})||"number"!=typeof e.compressionType||(this.h=e.compressionType),e)n[t]=e[t];n.outputBuffer=this.a,this.z=new b(this.input,n)}var er=w;function tr(r,e){var t,n,s,a;if(Object.keys)t=Object.keys(e);else for(n in t=[],s=0,e)t[s++]=n;for(s=0,a=t.length;s<a;++s)i(r+"."+(n=t[s]),e[n])}rr.prototype.j=function(){var e,t,n,i,a,o,h,f=0;switch(h=this.a,e=$){case $:t=Math.LOG2E*Math.log(32768)-8;break;default:r(Error("invalid compression method"))}switch(n=t<<4|e,h[f++]=n,e){case $:switch(this.h){case er.NONE:a=0;break;case er.r:a=1;break;case er.k:a=2;break;default:r(Error("unsupported compression type"))}break;default:r(Error("invalid compression method"))}return i=a<<6|0,h[f++]=i|31-(256*n+i)%31,o=X(this.input),this.z.b=f,f=(h=this.z.j()).length,s&&((h=new Uint8Array(h.buffer)).length<=f+4&&(this.a=new Uint8Array(h.length+4),this.a.set(h),h=this.a),h=h.subarray(0,f+4)),h[f++]=o>>24&255,h[f++]=o>>16&255,h[f++]=o>>8&255,h[f++]=255&o,h},i("Zlib.Inflate",_),i("Zlib.Inflate.prototype.decompress",_.prototype.p),tr("Zlib.Inflate.BufferType",{ADAPTIVE:N.C,BLOCK:N.D}),i("Zlib.Deflate",rr),i("Zlib.Deflate.compress",function(r,e){return new rr(r,e).j()}),i("Zlib.Deflate.prototype.compress",rr.prototype.j),tr("Zlib.Deflate.CompressionType",{NONE:er.NONE,FIXED:er.r,DYNAMIC:er.k})}).call(this);